<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
</h:head>
<h:body>
	<ui:include name="template" src="/template/template.xhtml" />
	<p:growl id="growl"></p:growl>

			<p:commandButton value="Add" update="addForm"
					 process="@this" oncomplete="PF('AddDialog').show();">

		<f:setPropertyActionListener
				target="#{categoryManagedBean.roomCategory}" value="#{roomCategory}" />

			</p:commandButton>

			<br/>

			<h:form id="form">



				<p:dataTable id="table" value="#{categoryManagedBean.categories}"
					var="roomCategory" >
					<p:column headerText="Code">
						<p:outputLabel value="#{roomCategory.code}"></p:outputLabel>
					</p:column>

					<p:column headerText="Name">
						<p:outputLabel value="#{roomCategory.name}"></p:outputLabel>
					</p:column>

					<p:column headerText="Created by">
						<p:outputLabel value="#{roomCategory.createdBy.username}"></p:outputLabel>
					</p:column>
					<p:column headerText="Created on">
						<p:outputLabel value="#{roomCategory.createdOn}"></p:outputLabel>
					</p:column>
					<p:column headerText="Updated by">
						<p:outputLabel value="#{roomCategory.updatedBy.username}"></p:outputLabel>
					</p:column>
					<p:column headerText="Updated on">
						<p:outputLabel value="#{roomCategory.updatedOn}"></p:outputLabel>
					</p:column>

					<p:column headerText="Actions">

						<p:commandButton value="Edit" update="editForm"
							process="@this" oncomplete="PF('EditDialog').show();">

							<f:setPropertyActionListener
								target="#{categoryManagedBean.roomCategory}" value="#{roomCategory}" />

						</p:commandButton>



						<p:commandButton immediate="true" value="Delete"
							update=":form:table growl" action="#{categoryManagedBean.delete}">
							<p:confirm header="Confirmation" message="Are you sure?"
								icon="pi pi-exclamation-triangle" />

							<f:setPropertyActionListener
								target="#{categoryManagedBean.roomCategory}" value="#{roomCategory}" />
						</p:commandButton>

						<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
							<p:commandButton value="Yes" type="button"
								styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
							<p:commandButton value="No" type="button"
								styleClass="ui-confirmdialog-no" icon="pi pi-times" />
						</p:confirmDialog>

					</p:column>



				</p:dataTable>




			</h:form>


			<h:form id="editForm">


				<p:dialog header="Edit Category" id="updateDialog"
						  widgetVar="EditDialog" modal="true">


					<h:panelGrid columns="3">
						<p:outputLabel for="updateCode" value="Code" />

						<h:inputText id="updateCode" required="true"
									 value="#{categoryManagedBean.roomCategory.code}"></h:inputText>

						<br/>
						<p:outputLabel for="updateName" value="Name" />

						<h:inputText id="updateName" required="true"
									 value="#{categoryManagedBean.roomCategory.name}"></h:inputText>

						<br/>

						<p:commandButton process="updateDialog" update=":form:table growl"
										 value="Save" actionListener="#{categoryManagedBean.save}"
										 oncomplete="PF('EditDialog').hide();">

						</p:commandButton>



					</h:panelGrid>

				</p:dialog>

			</h:form>

	<h:form id="addForm">


		<p:dialog header="Add Category" id="addDialog"
				  widgetVar="AddDialog" modal="true">


			<h:panelGrid columns="3">
				<p:outputLabel for="addCode" value="Code" />

				<h:inputText id="addCode" required="true"
							 value="#{categoryManagedBean.roomCategory.code}"></h:inputText>

				<br/>

				<p:outputLabel for="addName" value="Name" />

				<h:inputText id="addName" required="true"
							 value="#{categoryManagedBean.roomCategory.name}"></h:inputText>

				<br/>
				<p:commandButton process="addDialog" update=":form:table growl"
								 value="Save" actionListener="#{categoryManagedBean.add}"
								 oncomplete="PF('AddDialog').hide();">

				</p:commandButton>



			</h:panelGrid>


		</p:dialog>




	</h:form>



</h:body>
</html>
